{% extends 'base.html' %}

{% block title %}
    Leagues | Home
{% endblock title %}

{% block content %}

    <div class="container">
        <h2 class="text-center my-3">{{user.username}} Statistics</h2>

        <table class="table table-bordered mt-3">
            <thead>
                <tr>
                    <th>Total Predictions</th>
                    <th>Total Points</th>
                    <th>Avg Points Per User</th>
                    <th>Points 6</th>
                    <th>Points 4</th>
                    <th>Points 3</th>
                    <th>Points 2</th>
                    <th>Points 1</th>
                    <th>Points 0</th>
                </tr>
            </thead>
            <tbody>
                {% for user_stats in queryset %}
                    <tr>
                        <td>{{ user_stats.total_predictions_by_user }}</td>
                        <td>{{ user_stats.total_points }}</td>
                        <td>{{ user_stats.avg_points_per_user }}</td>
                        <td>{{ user_stats.points_6 }}</td>
                        <td>{{ user_stats.points_4 }}</td>
                        <td>{{ user_stats.points_3 }}</td>
                        <td>{{ user_stats.points_2 }}</td>
                        <td>{{ user_stats.points_1 }}</td>
                        <td>{{ user_stats.points_0 }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        
    <!-- Most Common Home Teams -->
    <div class="mt-4">
        <h4>Most Common Home Teams</h4>
        <ul class="list-group">
            {% for team in common_home_teams %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ team.homeTeamName }}
                    <span class="badge bg-primary rounded-pill">{{ team.total }}</span>
                </li>
            {% endfor %}
        </ul>
    </div>

    <!-- Most Common Away Teams -->
    <div class="mt-4">
        <h4>Most Common Away Teams</h4>
        <ul class="list-group">
            {% for team in common_away_teams %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ team.awayTeamName }}
                    <span class="badge bg-primary rounded-pill">{{ team.total }}</span>
                </li>
            {% endfor %}
        </ul>
    </div>

    <!-- Most Frequently Selected First Goal-Scorers -->
    <div class="mt-4">
        <h4>Most Frequently Selected First Goal-Scorers</h4>
        <ul class="list-group">
            {% for scorer in common_goal_scorers %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ scorer.goalScorerName }}
                    <span class="badge bg-primary rounded-pill">{{ scorer.total }}</span>
                </li>
            {% endfor %}
        </ul>
    </div>

  
</div>

{% endblock content %}
